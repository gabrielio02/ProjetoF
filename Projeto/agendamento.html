<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendamento de Consultas - VidaPlus</title>

    <!-- Link para o Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

    <style>
        /* Estilos básicos */
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fb;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            height: 100%;
            margin: 0;
            padding: 20px;
            flex-direction: column;
        }

        .container {
            background-color: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 40px;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
        }

        .input-group {
            margin-bottom: 15px;
            width: 100%;
        }

        input[type="text"], select, .custom-date, .custom-time {
            width: 100%;
            padding: 12px;
            margin-top: 5px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        button {
            width: 100%;
            padding: 12px;
            background-color: #007BFF;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }

        button:hover {
            background-color: #0056b3;
        }

        .cta {
            background-color: #0a3f8f;
            color: white;
            padding: 12px;
            border-radius: 8px;
            font-weight: 600;
            box-shadow: 0 8px 18px rgba(0, 0, 0, 0.1);
            text-align: center;
            display: block;
            margin-top: 20px;
        }

        /* Histórico de consultas */
        .history-container {
            margin-top: 40px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .history-card {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 500px;
            text-align: center;
        }

        .history-card p {
            margin: 10px 0;
        }

        .cancel-button {
            background-color: #ff4d4d;
            border: none;
            padding: 10px 15px;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }

        .cancel-button:hover {
            background-color: #cc0000;
        }

        /* Navegação superior */
        header {
            background-color: white;
            padding: 10px 0;
            border-bottom: 1px solid #e6e9ee;
            position: sticky;
            top: 0;
            z-index: 50;
            width: 100%;
        }

        .topbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .logo {
            font-family: "Playfair Display", serif;
            font-weight: 700;
            font-size: 22px;
            padding: 8px 14px;
            background: #0a3f8f;
            color: #fff;
            border-radius: 8px;
            position: relative;
            text-shadow: -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000;
        }

        nav a {
            font-size: 14px;
            color: #1f2937;
            padding: 14px 8px;
            border-radius: 6px;
        }

        .cta {
            background-color: #0a3f8f;
            color: white;
            padding: 10px 14px;
            border-radius: 8px;
            font-weight: 600;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
        }

        /* Container para garantir que o conteúdo principal seja visível sem rolagem excessiva */
        .content-container {
            max-height: calc(100vh - 120px); /* Limita a altura total da página */
            overflow-y: auto; /* Permite rolagem apenas quando necessário */
            width: 100%;
        }

        /* Ajuste no layout para garantir centralização */
        .content-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            width: 100%;
            overflow-y: auto;
            padding-bottom: 20px;
        }

        /* Novo botão "Acessar Teleconsulta Marcada" acima do Prontuário e Exames */
        #access-teleconsultation {
            margin-top: 30px;
            width: 100%;
        }
    </style>
</head>
<body>

    <header>
        <div class="topbar">
            <div class="logo">VidaPlus</div>
            <nav>
                <a href="paginainicial.html">Início</a>
                <a href="planos.html">Planos</a>
                <a href="agendamento.html">Agende sua consulta</a>
            </nav>
        </div>
    </header>

    <div class="content-container">
        <div class="container">
            <h1>Agendar Consulta</h1>
            
            <!-- Formulário de agendamento -->
            <div class="input-group">
                <label for="appointment-type">Tipo de Consulta</label>
                <select id="appointment-type">
                    <option value="presencial">Presencial</option>
                    <option value="telemedicina">Telemedicina</option>
                </select>
            </div>

            <div class="input-group">
                <label for="appointment-date">Data da Consulta</label>
                <input type="text" id="appointment-date" class="custom-date" placeholder="Selecione a data">
            </div>

            <div class="input-group">
                <label for="appointment-time">Horário da Consulta</label>
                <input type="text" id="appointment-time" class="custom-time" placeholder="Selecione a hora">
            </div>

            <button onclick="scheduleAppointment()">Agendar Consulta</button>

            <!-- Botão para acessar telemedicina marcada -->
            <button class="cta" id="access-telemedicine" style="display: none;" onclick="accessTelemedicine()">Acessar Telemedicina Marcada</button>

            <!-- Novo botão "Acessar Teleconsulta Marcada" logo acima de Prontuário e Exames -->
            <button class="cta" id="access-teleconsultation" style="display: block;" onclick="accessTeleconsultation()">Acessar Teleconsulta Marcada</button>
        </div>

        <!-- Seção de Prontuário e Exames (Somente visualização) -->
        <div class="container">
            <h2>Prontuário e Exames</h2>

            <!-- Prontuário Médico -->
            <div class="history-card">
                <p><strong>Prontuário Médico:</strong></p>
                <p>O paciente apresenta histórico de hipertensão controlada, sem comorbidades graves. Em acompanhamento com cardiologista para monitoramento de pressão arterial.</p>
            </div>

            <!-- Exames Realizados -->
            <div class="history-card">
                <p><strong>Exames Realizados:</strong></p>
                <p>Exame de sangue realizado em 10/10/2023: Hemograma normal. Colesterol total: 190 mg/dL.</p>
                <p>ECG realizado em 12/10/2023: Resultado dentro dos parâmetros normais.</p>
            </div>
        </div>

        <div class="container history-container">
            <h2>Histórico de Consultas</h2>

            <!-- Histórico de Consultas (Estrutura Estática) -->
            <div class="history-card">
                <p><strong>Consulta 1:</strong> Telemedicina - 15/10/2023 14:00</p>
                <button class="cancel-button" onclick="cancelAppointment()">Cancelar Consulta</button>
            </div>

            <div class="history-card">
                <p><strong>Consulta 2:</strong> Presencial - 20/10/2023 10:00</p>
                <button class="cancel-button" onclick="cancelAppointment()">Cancelar Consulta</button>
            </div>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        // Inicializar o flatpickr para o campo de data
        flatpickr("#appointment-date", {
            dateFormat: "d/m/Y", // Formato da data
        });

        // Inicializar o flatpickr para o campo de hora
        flatpickr("#appointment-time", {
            enableTime: true,
            noCalendar: true,
            dateFormat: "H:i", // Formato da hora
            time_24hr: true // Usar o formato de 24h
        });

        // Função para agendar a consulta
        function scheduleAppointment() {
            const appointmentType = document.getElementById('appointment-type').value;
            const appointmentDate = document.getElementById('appointment-date').value;
            const appointmentTime = document.getElementById('appointment-time').value;

            // Verificar se os campos estão preenchidos
            if (!appointmentDate || !appointmentTime) {
                alert('Por favor, escolha a data e hora da consulta.');
                return;
            }

            alert('Consulta agendada com sucesso!');

            // Se for telemedicina, mostrar o botão de acessar a consulta
            if (appointmentType === 'telemedicina') {
                document.getElementById('access-telemedicine').style.display = 'block';
                document.getElementById('access-teleconsultation').style.display = 'block'; // Exibe o novo botão
            }
        }

        // Função para acessar telemedicina marcada
        function accessTelemedicine() {
            alert('Acessando a consulta de telemedicina...');
            // Aqui você pode redirecionar para a plataforma de telemedicina ou iniciar a videochamada
        }

        // Função para acessar a teleconsulta marcada
        function accessTeleconsultation() {
            alert('Acessando a teleconsulta marcada...');
            // Aqui você pode redirecionar para a plataforma de teleconsulta ou iniciar a videochamada
        }

        // Função para cancelar consulta (histórico estático)
        function cancelAppointment() {
            const confirmCancel = confirm('Tem certeza que deseja cancelar esta consulta?');
            if (confirmCancel) {
                alert('Consulta cancelada com sucesso!');
            }
        }
    </script>

</body>
</html>
